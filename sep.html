<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Fabian Heng | Travel Blog</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- CSS Pages Goes Here -->
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link rel="stylesheet" href="css/font-awesome-4.7.0/css/font-awesome.min.css">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css">
        <link rel="stylesheet" type="text/css" href="css/footer.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">

        <!-- Favicon Goes Here -->
        <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
        <link rel="Favicon Icon" href="img/favicon/favicon.ico">
        
        <style>
            /* --- The Hero Header Section --- */
            .sep-hero-header {
                position: relative;
                height: 60vh;
                min-height: 400px; 
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                text-align: center;
                color: white;
                padding: 0 20px;
                overflow: hidden;
            }

            .sep-hero-header::before {
                content: '';
                position: absolute;
                top: 0; left: 0; right: 0; bottom: 0;
                background-image: var(--sep-hero-bg-url);
                background-size: cover;
                background-position: center;
                z-index: -1;
                opacity: var(--sep-hero-opacity);
                filter: blur(var(--sep-hero-blur));
                transition: opacity 0.1s ease-out, filter 0.1s ease-out;
            }

            .sep-hero-header::after {
                content: '';
                position: absolute;
                top: 0; left: 0; right: 0; bottom: 0;
                background: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.6) 100%);
                z-index: -1;
            }

            .sep-hero-header h1 {
                margin: 0;
                font-size: 5rem;
                text-shadow: 2px 2px 4px rgba(var(--black), 0.5);
                color: rgba(var(--white), 1);
            }

            .sep-hero-header p {
                margin: 0;
                font-size: 2.2rem;
                text-shadow: 1px 1px 3px rgba(var(--black), 0.5);
                color: rgba(var(--white), 1);
            }

            .sep-hero-header .sep-meta {
                margin-top: 10px;
                color: rgba(var(--white), 0.8);
                font-style: italic;
                font-size: 1.1rem;
            }

            /* --- Main Content Section --- */
            .sep-container {
                max-width: var(--max-width);
                margin: 0 auto;
                padding: 40px 20px;
                background: rgba(var(--white), 1);
                position: relative;
            }

            .sep-nav {
                display: inline-block;
                transition: 0.3s ease-in-out;
                margin-bottom: 20px;
            }

            .sep-nav:hover {
                transform: translateY(-2px);
            }

            .sep-section {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 100px;
                margin-bottom: 80px;
            }

            .sep-text {
                display: flex;
                flex: 1;
                flex-direction: column;
                justify-content: center;
            }

            .sep-text h2 {
                margin-bottom: 15px;
            }

            .sep-text div {
                font-size: 1.1rem;
                line-height: 1.8;
                text-align: justify;
            }

            .sep-img-wrapper {
                flex: 1;
                max-width: 45%;
                display: flex;
                justify-content: center;
            }

            .sep-section img {
                width: 100%;
                max-height: 400px;
                object-fit: cover;
                object-position: center;
                border-radius: 15px;
                box-shadow: 10px 10px 20px rgba(var(--black), 0.15);
                transition: transform 0.5s ease, box-shadow 0.5s ease;
            }

            .sep-section img:hover {
                transform: scale(1.02);
                box-shadow: 10px 10px 20px rgba(var(--blue), 0.5);
                cursor: default;
            }
            
            @media (max-width: 768px) {
                .sep-hero-header h1 {
                    font-size: 2.5rem;
                }

                .sep-hero-header p {
                    font-size: 1.2rem;
                }

                .sep-hero-header {
                    height: 50vh;
                }

                .sep-section {
                    flex-direction: column;
                    gap: 20px;
                    margin-bottom: 50px;
                }

                .sep-img-wrapper {
                    max-width: 100%;
                    width: 100%;
                }

                .sep-img-wrapper {
                    order: 1; 
                }
            }
        </style>
    </head>
    <body>
        <header class="sep-hero-header" id="sep-hero-container">
            <h1 id="sep-title" class="big-font">Loading Trip...</h1>
            <p id="sep-subtitle" class="big-font"></p>
            <p class="sep-meta small-font">Visited on: <span id="sep-date"></span></p>
        </header>

        <div class="sep-container">
            <a href="life.html#sep" class="sep-nav"><i class="fa fa-long-arrow-left"></i> &nbsp; Back to Home</a>
            
            <div id="sep-dynamic-content-area"></div>
        </div>

        <script src="js/sep.js"></script>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const currentId = urlParams.get('id');

            if (typeof travelData !== 'undefined') {
                const currentTrip = travelData.find(trip => trip.id === currentId);

                if (currentTrip) {
                    const heroContainer = document.getElementById('sep-hero-container');
                    
                    document.getElementById('sep-title').innerText = currentTrip.title;
                    document.getElementById('sep-subtitle').innerText = currentTrip.locationName;
                    document.getElementById('sep-date').innerText = currentTrip.date;
                    document.title = `Fabian Heng | ${currentTrip.id.charAt(0).toUpperCase() + currentTrip.id.slice(1)} Trip`;
                    heroContainer.style.setProperty('--sep-hero-bg-url', `url('${currentTrip.heroImage}')`);

                    const contentArea = document.getElementById('sep-dynamic-content-area');
                    contentArea.innerHTML = '';

                    if (currentTrip.sections && currentTrip.sections.length > 0) {
                        
                        currentTrip.sections.forEach((section, index) => {
                            const isEven = index % 2 === 0;

                            const imgBlock = `
                                <div class="sep-img-wrapper">
                                    <img src="${section.img}" alt="${section.title}">
                                </div>
                            `;

                            const textBlock = `
                                <div class="sep-text">
                                    <h2 class="big-font">${section.title}</h2>
                                    <div class="small-font">${section.text}</div>
                                </div>
                            `;

                            const sectionDiv = document.createElement('section');
                            sectionDiv.className = 'sep-section';

                            if (isEven) {
                                sectionDiv.innerHTML = textBlock + imgBlock;
                            } else {
                                sectionDiv.innerHTML = imgBlock + textBlock;
                            }

                            contentArea.appendChild(sectionDiv);
                        });
                    }    
                } else {
                    document.body.innerHTML = "<div style='padding:50px; text-align:center;' class='small-font'><h1 class='big-font'>Trip Not Found</h1><p>Sorry, we couldn't find that location data.</p><a href='life.html#sep'>Go Back to Map</a></div>";
                }
            } else {
                console.error("travelData is missing. Check js/sep.js path.");
                document.getElementById('sep-title').innerText = "Error Loading Data";
            }

            const heroSection = document.querySelector('.sep-hero-header');
            let heroHeight = heroSection.offsetHeight;

            window.addEventListener('resize', () => {
                heroHeight = heroSection.offsetHeight;
            });

            window.addEventListener('scroll', function() {
                const scrollPosition = window.scrollY;
                let scrollRatio = scrollPosition / heroHeight;
                if (scrollRatio > 1) scrollRatio = 1;
                const newOpacity = 1 - (scrollRatio * 0.7);
                const newBlur = (scrollRatio * 10) + 'px';
                window.requestAnimationFrame(() => {
                    heroSection.style.setProperty('--sep-hero-opacity', newOpacity);
                    heroSection.style.setProperty('--sep-hero-blur', newBlur);
                });
            });
        </script>
    </body>
    
    <!-- Footer Section -->
    <footer class="small-font">
        <div class="social">
            <div class="icons">
                <h3 class="big-font">Social<span class="period">.</span></h3>
                <ul class="social-icons">
                    <a href="https://github.com/FabianHeng/" target="_blank"><li><i class="fa fa-github"></i></li></a>
                    <a href="https://www.linkedin.com/in/fabianheng/" target="_blank"><li><i class="fa fa-linkedin"></i></li></a>
                    <a href="https://www.instagram.com/f.fl.b/" target="_blank"><li><i class="fa fa-instagram"></i></li></a>
                    <a href="https://www.youtube.com/c/Entertainium/" target="_blank"><li><i class="fa fa-youtube"></i></li></a>
                </ul>
            </div>
            <div class="email">
                <i class="fa fa-envelope"></i><a href="mailto:fabian.heng@icloud.com">fabian.heng@icloud.com</a>
            </div>
        </div>
        <img src="img/fab.png">
        <div class="copyright">
            <p>Made by Fabian Heng &copy; 2025</p>
            <p>Miss my old webpage? You can still access it by clicking <a href="https://fabianheng.github.io/me/prev/prev.html">here</a>.</p>
        </div>
    </footer>
</html>